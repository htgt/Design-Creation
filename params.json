{"name":"Design-creation","tagline":"","body":"DESIGN-CREATION\r\n===============\r\n\r\nCreate a Knock-Out design for a given target.\r\n\r\nOverview:\r\n\r\n1. Specify target area(s) coordinates for design.\r\n2. Produce oligo target ( candidate ) region sequences.\r\n3. Produce list of possible oligos, using AOS.\r\n4. Filter and rank oligos, pick the best one of each type.\r\n5. Find Valid U/D Region Oligo Pairs ( conditional designs only )\r\n6. Find Best Gap Oligo Pair\r\n7. Consolidate Design Data\r\n8. Persist design with oligos to LIMS2.\r\n\r\n* * *\r\n\r\nINPUT DATA\r\n==========\r\n\r\nDesign Parameters:\r\n--------------\r\n* target coordinates\r\n    * species\r\n    * genome / assembly\r\n    * chromosome name\r\n    * chromosome strand\r\n    * chromosome coordiantes\r\nOR\r\n* target gene\r\n    * species\r\n    * genomes / assembly\r\n    * start exon\r\n    * end exon\r\nPLUS\r\n* design type\r\n* phase - conditional\r\n* name\r\n\r\nOligo Profile:\r\n--------------\r\n* oligo parameters\r\n* define region oligos must be located in\r\n\r\n### Conventional Deletion / Insertion\r\n\r\n```\r\n   G5               U5       TARGET       D3               G3\r\n|======|---------|======|-|          |-|======|---------|======|\r\n|------|                                                           > G5 Region Length\r\n       |------------------|                                        > G5 Region Offset\r\n                 |------|                                          > U5 Region Length\r\n                        |-|                                        > U5 Region Offset\r\n                                       |------|                    > D3 Region Length\r\n                                     |-|                           > D3 Region Offset\r\n                                                        |------|   > G3 Region Length\r\n                                     |------------------|          > G3 Region Offset\r\n```\r\n\r\n### Conventional Conditional\r\n\r\n```\r\n   G5              U-REGION           D-REGION             G3\r\n|======|---------|==========|-------|==========|--------|======|\r\n|------|                                                           > G5 Region Length\r\n       |---------|                                                 > G5 Region Offset\r\n                      |-|                                          > U Oligo Min Gap \r\n                    |-----|                                        > U Oligo Max Gap \r\n                                         |-|                       > D Oligo Min Gap \r\n                                       |-----|                     > D Oligo Max Gap \r\n                                                        |------|   > G3 Region Length\r\n                                             |-----------------|   > G3 Region Offset\r\n```\r\n\r\n\r\n* * *\r\n\r\nWORKFLOW\r\n========\r\n\r\n1: Specify Target Area\r\n======================\r\nGiven a target gene with details of the exons that are being targetted we need to produce\r\na set of coordinates for the target region(s);\r\n\r\n###input:\r\n* target gene\r\n* start exon\r\n* end exon\r\n* species\r\n* assembly\r\n\r\n###output:\r\n* design coordinates\r\n\r\n* * *\r\n\r\n2: Oligo Target Regions\r\n=======================\r\nNOTE: Current program start at this step\r\n\r\nGiven the target coordinates for the design plus the parameters for the oligos\r\nproduce oligo target region sequence files ( input to aos ).\r\nFor deletion designs just one target region ( region to delete ).\r\n\r\nFor knockout designs we will have 2 ( U region and D region ).\r\nNeed to split these regions in half to get a region for each oligo.\r\n\r\n###input:\r\n* design params\r\n    * design coordinates\r\n        * chromosome\r\n        * strand\r\n        * start\r\n        * end\r\n    * species\r\n    * assembly\r\n* oligo profile\r\n\r\n###output: sequence for target region of each oligo\r\n* G5 region sequence\r\n* U5 region sequence\r\n* U3 region sequence ( optional )\r\n* D5 region sequence ( optional )\r\n* D3 region sequence\r\n* G3 region sequence\r\n\r\nSequence files must have fasta headers formated as such:\r\n```\r\n>oligo_name:start-end\r\neg\r\n>U5:123124-123234\r\n```\r\n\r\n* * *\r\n\r\n3: Produce Oligos\r\n=================\r\nRun AOS multiple times for each oligo, group and validate AOS output if needed.\r\n\r\n###input:\r\n* design type\r\n* location of target region sequence files\r\n\r\n###output:\r\n* list of oligos for every target region\r\n\r\n\r\nAOS Wrapper\r\n-----------\r\nTakes target sequence and output list of primers for that region.\r\nNeed to wrap up input and output for aos to produce usable output for next step.\r\n\r\nTo work out assembly coordinates we use the offset information returned by aos for each oligo.\r\nThis information plus the oligo target region coordinates is enough to work out\r\nthe assembly coordinates for the oligos.\r\n\r\n###input:\r\n* query sequence file\r\n* target sequence file ( currently chr file )\r\n* AOS parameters\r\n    * oligo length ( 50 )\r\n    * minimum GC content ( 28 )\r\n    * number oligos ( 3 )\r\n    * mask by lower-case? ( no )\r\n    * genomic search method ( blat )\r\n\r\n###output:\r\n* list of oligos, with following details:\r\n    * sequence\r\n    * assembly coordinates\r\n    * id\r\n\r\n* * *\r\n\r\n4: Oligo Filtering\r\n==================\r\nWe will have multiple oligos of each type, need to filter out bad ones.\r\n\r\n###input:\r\n* oligos\r\n* design type\r\n\r\n###output:\r\n* validated oligo for each oligo type\r\n* throw error if we can't find given oligo type\r\n\r\nOligo Validity\r\n--------------\r\nCheck following:\r\n* Coordinates for oligo are worked out correctly\r\n* Length of oligo is correct\r\n* Sequence is the same as the sequence from ensembl for given coordinates\r\n\r\nOligo Specificity\r\n-----------------\r\ninside bac ( but use genomes flanking sequence, 100k by default )\r\n\r\n* * *\r\n\r\n5: Find Valid U/D Region Oligo Pairs ( conditional designs )\r\n=============================\r\nThe pair of oligos from the U and D regions of conditional designs were produced\r\nby splitting the respective regions in two and getting the appropriate oligo from each half.\r\n\r\nWe must find the best pairs of U and D oligos that fit the gap criteria for those oligos.\r\nThey may have a minimum gap distance between the oligos, and a optional maximum gap distance too.\r\n\r\nThe closer the oligos are to the minimum gap distance the better.\r\n\r\n###input:\r\n* U5 and U3 oligos\r\n* D5 and D3 oligos\r\n* U Oligo Min Gap\r\n* U Oligo Max Gap ( optional )\r\n* D Oligo Min Gap ( optional )\r\n* D Oligo Max Gap\r\n\r\n###output\r\n* Best pair of U5 and U3 oligos\r\n* Best pair of D5 and D3 oligos\r\n\r\n* * *\r\n\r\n6: Find Best Gap Oligo Pair\r\n=============================\r\nWe need to carry out additional checks on the G5 and G3 oligos and then\r\nfind the best pair of oligos to use.\r\n\r\nAll the oligo sequences and tiled into sections of sequence 6 bases long and then\r\ncompared against each other. If a pair of oligos has any matching 6 base sequences\r\nthen it is not a good oligo pair.\r\n\r\n###input:\r\n* G5 and G3 oligos\r\n\r\n###output\r\n* Best pair of G5 and G3 oligos\r\n\r\n* * *\r\n\r\n7: Consolidate Design Data\r\n=====================\r\n\r\nCreate the yaml design file, that will be used in the next persist step.\r\nBrings together all the data from the previous steps and formats it correctly.\r\nAlso calls seperate module to work out phase of design.\r\n\r\n###input:\r\n* target name\r\n* species\r\n* design type\r\n* oligos\r\n    * type\r\n    * sequence\r\n    * loci\r\n        * assembly\r\n        * chr name\r\n        * start\r\n        * end\r\n* created by\r\n\r\n###output\r\n* design data yaml file\r\n\r\nDesign Phase\r\n------------\r\nTo work our the phase the target transcript and oligo coordinates are required.\r\n\r\n* * *\r\n\r\n8: Persist Design\r\n=================\r\nOnce we have valid oligos for the target we persist it, to LIMS2.\r\nUse the LIMS2 api to insert design.\r\n\r\n###input:\r\n* design data yaml file\r\n\r\n###output:\r\n* design stored in LIMS2\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}